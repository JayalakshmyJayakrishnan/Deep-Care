<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Deep Care - Functional System Architecture</title>
    <style>
        body {
            background-color: #fff;
            font-family: "Times New Roman", Times, serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
        }

        .no-print {
            margin-bottom: 20px;
            padding: 10px 20px;
            background: #000;
            color: #fff;
            cursor: pointer;
            border: none;
            font-weight: bold;
        }

        @media print { .no-print { display: none; } }

        /* Diagram Canvas */
        .diagram-canvas {
            width: 900px;
            border: 1.5px solid #000;
            padding: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .fig-label {
            font-size: 14pt;
            font-weight: bold;
            margin-bottom: 40px;
        }

        /* Module Boxes */
        .module {
            border: 2px solid #000;
            width: 600px;
            padding: 15px;
            background: #fff;
            position: relative;
        }

        .module-name {
            font-weight: bold;
            font-size: 12pt;
            border-bottom: 1.5px solid #000;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .io-group {
            font-size: 10pt;
            line-height: 1.4;
        }

        .io-group b { color: #000; }

        /* Flow Connectors */
        .flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 5px 0;
        }

        .line {
            width: 2px;
            height: 40px;
            background: #000;
        }

        .arrowhead {
            width: 0; 
            height: 0; 
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 12px solid #000;
        }

        .data-tag {
            font-size: 9.5pt;
            font-style: italic;
            border: 1px solid #000;
            padding: 2px 6px;
            background: #fff;
            margin-top: -25px;
            margin-bottom: 10px;
            z-index: 5;
        }

        /* MTL Parallel Branching */
        .mtl-container {
            display: flex;
            width: 634px;
            justify-content: space-between;
            margin-top: 10px;
        }

        .branch-box {
            border: 1.5px dashed #000;
            width: 46%;
            padding: 10px;
            text-align: center;
            font-size: 11pt;
            background: #fcfcfc;
        }

        /* Logos */
        .logo-tray {
            position: absolute;
            right: 10px;
            top: 40px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .logo-tray img { height: 35px; width: auto; }

        .caption {
            margin-top: 40px;
            font-size: 11pt;
            text-align: center;
            width: 800px;
        }
    </style>
</head>
<body>

    <button class="no-print" onclick="window.print()">Generate PDF for Paper</button>

    <div class="diagram-canvas">
        <div class="fig-label">Fig. 1. Deep Care System Architecture and Data Flow</div>

        <div class="module">
            <div class="module-name">I. Data Ingestion & Pre-Processing</div>
            <div class="io-group">
                <b>INPUT:</b> Raw WCE Stream (.mp4), Galar/Kvasir Datasets<br>
                <b>OUTPUT:</b> Normalized RGB Tensors (224x224)
            </div>
            <div class="logo-tray">
                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/opencv/opencv-original.svg" alt="OpenCV">
            </div>
        </div>

        <div class="flow">
            <div class="line"></div>
            <div class="arrowhead"></div>
            <div class="data-tag">CLAHE-Enhanced Frames</div>
        </div>

        <div class="module">
            <div class="module-name">II. Quality Gatekeeper (MobileNetV4)</div>
            <div class="io-group">
                <b>INPUT:</b> Pre-processed Image Stream<br>
                <b>OUTPUT:</b> Validated Diagnostic Sub-set
            </div>
            <div class="logo-tray">
                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python">
            </div>
        </div>

        <div class="flow">
            <div class="line"></div>
            <div class="arrowhead"></div>
            <div class="data-tag">Filtered Mucosal Data</div>
        </div>

        <div class="module">
            <div class="module-name">III. MTL Engine (EfficientNet-Edge)</div>
            <div class="io-group">
                <b>INPUT:</b> Validated Diagnostic Frames<br>
                <b>OUTPUT:</b> Shared Feature Maps & Probabilities
            </div>
            <div class="logo-tray">
                <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pytorch/pytorch-original.svg" alt="PyTorch">
            </div>
        </div>

        <div class="mtl-container">
            <div class="branch-box">
                <b>Output A:</b><br>Anatomical Localization<br>(Stomach/Bowel/Colon)
            </div>
            <div class="branch-box">
                <b>Output B:</b><br>Pathological Detection<br>(14 Lesion Types)
            </div>
        </div>

        <div class="flow">
            <div class="line"></div>
            <div class="arrowhead"></div>
            <div class="data-tag">Diagnostic Logits</div>
        </div>

        <div class="module">
            <div class="module-name">IV. Transparency & Smoothing</div>
            <div class="io-group">
                <b>INPUT:</b> Classification Logits + Sequential Metadata<br>
                <b>OUTPUT:</b> Explainable Decision Support Report
            </div>
            <div class="logo-tray">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg" alt="Sklearn">
            </div>
        </div>

        <div class="caption">
            Architecture depicting the functional interconnections and directional data passage between processing units, illustrating the transition from raw ingestion to transparent diagnostic output.
        </div>
    </div>

</body>
</html>
